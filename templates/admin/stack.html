{% extends "_base.html" %}

{% block extra_head %}
  {{ CSS.push('less/admin.less') }}
  {{ CSS.render('css/admin.min.css') }}
{% endblock %}

{% block outer_content %}

<header>
    <h1>Stack administrator</h1>
</header>

<section id="stack-admin">

    <div class="container-fluid">
        <div class="row">
            <div class="out graphics">
                <h2>Graphics</h2>
                <ul class="list-unstyled">
                    {% for slide in graphics %}
                    <li class="item" data-slide="{{ slide.slug }}">
                        <p class="slug">{{ slide.slug }}</p>
                        <!-- <p><a href="{{ S3_BASE_URL }}/preview/{{ slide.slug }}" target="_blank">Preview</a></p> -->
                        <!-- <p><a target="_blank" href="share/{{ slide.slug }}">Share image</a></p> -->

                        <div class="controls">
                            <a class="add" href="#"><span class="fa fa-plus"></span></a>
                            <a href="{{ S3_BASE_URL }}/preview/{{ slide.slug }}" target="_blank"><span class="fa fa-search"></span></a>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="out news">
                <h2>News Items</h2>
                <ul class="list-unstyled">
                    {% for slide in news %}
                    <li class="item" data-slide="{{ slide.slug }}">
                        <p class="slug">{{ slide.slug }}</p>
                        <!-- <p><a href="{{ S3_BASE_URL }}/preview/{{ slide.slug }}" target="_blank">Preview</a></p> -->
                        <!-- <p><a target="_blank" href="share/{{ slide.slug }}">Share image</a></p> -->
                        <p>{{ slide.body|smarty }}</p>
                        <div class="controls">
                            <a class="add" href="#"><span class="fa fa-plus"></span></a>
                            <a href="{{ S3_BASE_URL }}/preview/{{ slide.slug }}" target="_blank"><span class="fa fa-search"></span></a>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="timeline">
                <h2>Live stack</h2>
                <ol class="sortable list-unstyled js-droppable-and-draggable">
                    {% for slide in sequence %}
                    <li class="item" data-slide="{{ slide.slide }}">
                        {{ slide.slide }} <a class="remove" href="#"><span class="fa fa-times"></span></a>
                    </li>
                    {% endfor %}
                </ol>
                <div class="row">
                    <a class="save-btn btn btn-primary btn-lg">Save</a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_foot_js %}
  {{ JS.push('js/lib/jquery-sortable.js') }}
  {{ JS.push('js/stack-admin.js') }}
  {{ JS.render('js/admin-app-footer.min.js') }}
{% endblock %}
