<div class="results-wrapper hide-results {{ page_class }}">
    <div class="results-inner results-container">
        <div class="results-header">
        	<div class="results-title">
				<h1>{{ page_title }}
					{% if current_page %}<span class="page">{{ current_page }} of 2</span>{% endif %}
				</h1>
				{% if page_title == 'House' %}
				<h4>{{ COPY.content.house_board_subhed }}</h4>
				{% endif %}
			</div>

            {% if bop %}
            <div class="leaderboard">
                <div class="results-header-group dem">
                    <h2 class="party">Dem.</h2>
                    <p class="total"><span class="percentage">{{ bop.dem.has }}</span> <span class="change">{{ bop.dem.picked_up|signed }}</span></p>
                    <p class="seats-needed">Needs <span class="count">{{ bop.dem.needs }}</span></p>
                </div>
                <div class="results-header-group gop">
                    <h2 class="party">GOP</h2>
                    <p class="total"><span class="percentage">{{ bop.gop.has }}</span> <span class="change">{{ bop.gop.picked_up|signed }}</span></p>
                    <p class="seats-needed">Needs <span class="count">{{ bop.gop.needs }}</span></p>
                </div>
                <div class="results-header-group other">
                    <h2 class="party">Ind.</h2>
                    <p class="total"><span class="percentage">{{ bop.other.has }}</span> <span class="change">{{ bop.other.picked_up|signed }}</span></p>
                </div>
                <div class="results-header-group not-called">
                    <h2>Not Called</h2>
                    <p class="total"><span class="count">{{ not_called }}</span></p>
                </div>
            </div>
            {% endif %}
        </div>

        <div class="results">
            {% for closing_time, races in poll_groups %}
            <h2 class="poll-closing-group"><span class="time">{{ closing_time|format_board_time }}</span></h2>
            {% include '_race_results_table.html' %}
            {% endfor %}
        </div>

        <div class="ap-credit">
            Source: {{ COPY.content.data_source }}&nbsp;&nbsp;|&nbsp;&nbsp;As of <span class="timestamp">{{ TIMESTAMP }}</span>.
        </div>

    </div>
</div>

<script>

(function() {
	// Columnizer needs a short pause or else it acts strangely on subsequent calls
	setTimeout(function() {
	  $('.results').columnize(colOpts);
	  $('.results-wrapper').animate({ 'opacity': 1 }, 500, function() {
		$(this).removeClass('hide-results');
	  });
	}, 100);
})();

var colOpts = {
  // precise: true,
  columns: {{ column_number }},
}
</script>
