<div class="results-wrapper hide-results {{ page_class }}">
    <div class="results-inner results-container">
        <div class="results-header">
            <h1>{{ page_title }}</h1>
        </div>

        <div class="results">
            {% for closing_time, races in poll_groups %}
            <h2 class="poll-closing-group"><span class="time">{{ closing_time|format_board_time }}</span></h2>
            {% include '_ballot_measures_results_table.html' %}
            {% endfor %}
        </div>

        <div class="ap-credit">
            Source: {{ COPY.content.data_source }}&nbsp;&nbsp;|&nbsp;&nbsp;As of <span class="timestamp"></span>.
        </div>
    </div>
</div>

<script type="text/javascript">
(function() {
	var $timestamp = $('.ap-credit').find('.timestamp');
    $timestamp.empty().append("{{ TIMESTAMP }}");

	// Columnizer needs a short pause or else it acts strangely on subsequent calls
	setTimeout(function() {
	  $('.results').columnize(colOpts);
	  $('.results-wrapper').animate({ 'opacity': 1 }, 500, function() {
		$(this).removeClass('hide-results');
	  });
	}, 100);
})();

// columnizer
var colOpts = {
  precise: true,
  columns: {{ column_number }},
}
</script>
