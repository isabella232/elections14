{% extends '_base.html' %}

{% block extra_css %}
{{ CSS.push('less/stack.less') }}
{{ CSS.render('css/index.min.css') }}
{% endblock extra_css %}

{% block outer_content %}
<div class="slide welcome">
    <div class="slide-inner">
        <div class="slide-content">
            <!-- SVG LOGO -->
            <?xml version="1.0" encoding="utf-8"?>
            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
            <svg class="logo" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 130.5 44.5" style="enable-background:new 0 0 130.5 44.5;" xml:space="preserve">
            <g>
                <path d="M137.4,3.2c0,1.3-1,2.4-2.4,2.4s-2.4-1-2.4-2.4c0-1.3,1-2.4,2.4-2.4S137.4,1.8,137.4,3.2z M133,3.2c0,1.1,0.8,2,2,2
                    c1.1,0,2-0.9,2-2c0-1.1-0.8-2-2-2C133.9,1.1,133,2,133,3.2z M134.5,4.5h-0.3V1.8h1c0.6,0,0.9,0.3,0.9,0.8c0,0.5-0.3,0.7-0.7,0.8
                    l0.8,1.2h-0.4l-0.8-1.2h-0.6V4.5z M135,3c0.4,0,0.8,0,0.8-0.5c0-0.4-0.3-0.5-0.7-0.5h-0.6V3H135z"/>
            </g>
            <g>
                <g>
                    <path d="M44.4,44.5H0V0.1h44.4V44.5z M1.3,43.1h41.8V1.4H1.3V43.1z"/>
                </g>
                <g>
                    <path d="M87.5,44.5H43.1V0.1h44.4V44.5z M44.4,43.1h41.7V1.4H44.4V43.1z"/>
                </g>
                <g>
                    <path d="M130.5,44.5H86.1V0.1h44.4V44.5z M87.4,43.1h41.8V1.4H87.4V43.1z"/>
                </g>
                <g>
                    <g>
                        <path d="M26.4,33.3V20.5c0-1.9-0.4-3.2-1.1-4.1c-0.7-0.9-1.9-1.3-3.5-1.3c-0.8,0-1.6,0.2-2.4,0.6c-0.9,0.4-1.5,1-2,1.6v15.9h-5.1
                            V11.2h3.7l0.9,2.1c1.4-1.6,3.5-2.4,6.2-2.4c2.6,0,4.7,0.8,6.2,2.4c1.5,1.6,2.3,3.8,2.3,6.6v13.5H26.4z"/>
                    </g>
                </g>
                <g>
                    <g>
                        <path d="M63.7,15.2c2.4,0,4.1,0.5,5.1,1.6c1,1.1,1.5,2.9,1.5,5.5c0,2.4-0.5,4.2-1.6,5.4c-1,1.1-2.7,1.7-5.1,1.7
                            c-1.2,0-2.3-0.4-3.3-1.1V16.6C61.4,15.7,62.5,15.2,63.7,15.2z M64.9,33.7c3.4,0,6-1,8-2.9c1.9-1.9,2.9-4.7,2.9-8.3
                            c0-7.7-3.5-11.6-10.6-11.6c-1.9,0-3.5,0.6-4.8,1.9v-1.5h-5.2v30.7h5.2v-9.2C61.8,33.4,63.3,33.7,64.9,33.7z"/>
                    </g>
                </g>
                <g>
                    <g>
                        <path d="M114.1,16c-0.9-0.6-1.9-0.9-3-0.9c-1.2,0-2.2,0.5-3.2,1.6c-0.9,1.1-1.4,2.4-1.4,4v12.5h-5.2V11.2h5.2v2.1
                            c1.4-1.7,3.3-2.5,5.7-2.5c1.7,0,3.1,0.3,4,0.8L114.1,16z"/>
                    </g>
                </g>
            </g>
            </svg>

            <div class="intro-text">
                <h1>
                <span class="fa fa-star"></span><span class="fa fa-star"></span><span class="fa fa-star" style="margin-right: 0;"></span>
                2014
                <span class="fa fa-star"></span><span class="fa fa-star"></span><span class="fa fa-star"></span>
                </h1>
                <h2>Election Party!</h2>
            </div>

            <div class="call-to-action">
                <button class="btn btn-lg welcome-button">Get Started</button>
            </div>

            <div class="tv-prompt">
                <img class="icon" src="assets/tv.svg">
                <h3>Stream on your TV</h3>
                <p>Use your Apple TV, <a id="cast" href="#">Chromecast</a>, or Roku device.</p>
            </div>
        </div>
    </div>
</div>

<div class="state-picker slide">
    <div class="slide-inner">
        <div class="slide-content">
            <h2>Get up to the minute results on your state</h2>

            <div class="state">
                <span class="stateface"></span>
                <h3 class="state-name"></h3>
            </div>

            <form role="form" class="state-picker-form">
                <div class="form-group">
                    <input class="typeahead" type="text" placeholder="&#xf002;&nbsp;&nbsp; Select a different state">
                </div>

                <button type="submit" class="btn btn-lg state-picker-submit">Join the party</button>
            </form>
        </div>
    </div>
</div>

<div id="stack" class="stack">
    <div class="header-container">
        <div class="results-header index">
            <!-- SVG LOGO -->
            <?xml version="1.0" encoding="utf-8"?>
            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
            <svg class="logo" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 130.5 44.5" style="enable-background:new 0 0 130.5 44.5;" xml:space="preserve">
            <g>
                <path d="M137.4,3.2c0,1.3-1,2.4-2.4,2.4s-2.4-1-2.4-2.4c0-1.3,1-2.4,2.4-2.4S137.4,1.8,137.4,3.2z M133,3.2c0,1.1,0.8,2,2,2
                    c1.1,0,2-0.9,2-2c0-1.1-0.8-2-2-2C133.9,1.1,133,2,133,3.2z M134.5,4.5h-0.3V1.8h1c0.6,0,0.9,0.3,0.9,0.8c0,0.5-0.3,0.7-0.7,0.8
                    l0.8,1.2h-0.4l-0.8-1.2h-0.6V4.5z M135,3c0.4,0,0.8,0,0.8-0.5c0-0.4-0.3-0.5-0.7-0.5h-0.6V3H135z"/>
            </g>
            <g>
                <g>
                    <path d="M44.4,44.5H0V0.1h44.4V44.5z M1.3,43.1h41.8V1.4H1.3V43.1z"/>
                </g>
                <g>
                    <path d="M87.5,44.5H43.1V0.1h44.4V44.5z M44.4,43.1h41.7V1.4H44.4V43.1z"/>
                </g>
                <g>
                    <path d="M130.5,44.5H86.1V0.1h44.4V44.5z M87.4,43.1h41.8V1.4H87.4V43.1z"/>
                </g>
                <g>
                    <g>
                        <path d="M26.4,33.3V20.5c0-1.9-0.4-3.2-1.1-4.1c-0.7-0.9-1.9-1.3-3.5-1.3c-0.8,0-1.6,0.2-2.4,0.6c-0.9,0.4-1.5,1-2,1.6v15.9h-5.1
                            V11.2h3.7l0.9,2.1c1.4-1.6,3.5-2.4,6.2-2.4c2.6,0,4.7,0.8,6.2,2.4c1.5,1.6,2.3,3.8,2.3,6.6v13.5H26.4z"/>
                    </g>
                </g>
                <g>
                    <g>
                        <path d="M63.7,15.2c2.4,0,4.1,0.5,5.1,1.6c1,1.1,1.5,2.9,1.5,5.5c0,2.4-0.5,4.2-1.6,5.4c-1,1.1-2.7,1.7-5.1,1.7
                            c-1.2,0-2.3-0.4-3.3-1.1V16.6C61.4,15.7,62.5,15.2,63.7,15.2z M64.9,33.7c3.4,0,6-1,8-2.9c1.9-1.9,2.9-4.7,2.9-8.3
                            c0-7.7-3.5-11.6-10.6-11.6c-1.9,0-3.5,0.6-4.8,1.9v-1.5h-5.2v30.7h5.2v-9.2C61.8,33.4,63.3,33.7,64.9,33.7z"/>
                    </g>
                </g>
                <g>
                    <g>
                        <path d="M114.1,16c-0.9-0.6-1.9-0.9-3-0.9c-1.2,0-2.2,0.5-3.2,1.6c-0.9,1.1-1.4,2.4-1.4,4v12.5h-5.2V11.2h5.2v2.1
                            c1.4-1.7,3.3-2.5,5.7-2.5c1.7,0,3.1,0.3,4,0.8L114.1,16z"/>
                    </g>
                </g>
            </g>
            </svg>

            <span class="hashtag">#nprparty</span>
            {% if bop %}
            <div class="leaderboard">
                <div class="results-header-group">
                <h2>Senate Results:</h2>
                </div>
                <div class="results-header-group dem">
                    <h2 class="party">Dem</h2>
                    <p class="total"><span class="percentage">{{ bop.dem.has }}</span> <span class="change">{{ bop.dem.picked_up|signed }}</span></p>
                </div>
                <div class="results-header-group gop">
                    <h2 class="party">GOP</h2>
                    <p class="total"><span class="percentage">{{ bop.gop.has }}</span> <span class="change">{{ bop.gop.picked_up|signed }}</span></p>
                    </tr>
                </div>
                <div class="results-header-group not-called">
                    <h2 class="party">Not Called</h2>
                    <p class="total"><span class="count">{{ not_called }}</span></p>
                </div>
            </div>
            {% endif %}
        </div>

        <div class="results-header header-controls">
            <a href="#" data-toggle="modal" data-backdrop="static" data-target="#share-modal">Share <span class="fa fa-share"></span></a>

            <div class="right-controls">
                <div class="state results-header-group">
                    <a class="state-picker-link" href="#"></a>
                </div>
                <div class="volume results-header-group">
                    <div id="audio-ambient">
                        <div id="pop-audio" class="jp-jplayer"></div>
                        <div id="jp_container_1" class="jp-audio">
                            <div class="jp-type-single">
                                <div class="jp-gui jp-interface">
                                    <div class="jp-controls">
                                        <a href="javascript:;" class="jp-play nav-btn" tabindex="1" title="stop"><img class="volume-icon" src="../assets/mute.svg"></a>
                                        <a href="javascript:;" class="jp-pause nav-btn" tabindex="1" title="play"><img class="volume-icon" src="../assets/volume.svg"></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="fullscreen results-header-group">
                    <p><a href="#"><span class="fa fa-expand"></span></a></p>
                </div>
            </div>
        </div>
    </div>
</div>

{% include '_share_modal.html' %}
{% endblock outer_content %}

{% block extra_foot_js %}
<script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
<script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
<script src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
<script src="js/lib/d3.v3.min.js"></script>
{{ JS.push('js/lib/jquery.jplayer.js') }}
{{ JS.push('js/chromecast_receiver.js') }}
{{ JS.push('js/chromecast_sender.js') }}
{{ JS.push('js/app.js') }}
{{ JS.push('js/analytics.js') }}
{{ JS.render('js/index-footer.min.js') }}
{% endblock extra_foot_js %}
