{% extends '_base.html' %}

{% block outer_content %}
<div class="welcome">
    <div class="logo-wrapper">
    {% include '_logo2.svg' %}
    </div>

    <h1>ELECTION PARTY!</h1>

    <h2>Live news and data DJ'ed by Amita Parashar &mdash; hosted by Melissa Block and Robert Siegel.</h2>
    <p class="byline">{{ COPY.content.byline }}</p>
<!-- 
    <h2 class="state-picker-hed-wrapper"><span class="state-picker-hed">{{ COPY.content.state_picker_hed }}</span> <span class="state-name"></span> <span class="stateface"></span> (<a href="">See results for a different state.</a>)</h2> -->

    <form role="form" class="state-picker-form">
        <!-- <div class="form-group">
            <input class="typeahead" type="text" placeholder="Select a different state">
        </div>
 -->
    </form>
    <div class="cast-header">
        <div class="cast-disabled">
            <p><button class="btn btn-lg welcome-button js-go">Let's go!</button></p>
            <p>(Got a Chromecast? Try this in Chrome on your laptop or phone.)</p>
            <!-- <p>(Already in Chrome? Get the <a href="https://chrome.google.com/webstore/detail/google-cast/boadgeojelhgndaghljhdicfkmllpafd?hl=en">Cast extension</a>.)</p> -->
        </div>
        <div class="cast-enabled">
            <p><button class="cast-start btn btn-lg welcome-button">{% include '_chromecast-off.svg' %} Start Casting!</button></p>
            <p class="cast-footer"><a href="#" class="js-go">Or play here</a></p>
        </div>
    </div>

</div>

<div class="countdown">
    <div class="wrapper">
		<h2>{{ COPY.content.countdown_prompt_1 }}</h2>
		<div class="countdown-arc-wrapper">
			<div class="countdown-arc"></div>
			<div class="counter"></div>
		</div>
		<h3>{{ COPY.content.countdown_prompt_2 }}</h3>
    </div>
</div>

<div class="state-picker">
    <h2 class="state-picker-hed">{{ COPY.content.state_picker_hed }}</h2>

    <form role="form" class="state-picker-form">
        <div class="form-group">
            <div class="state">
                <span class="stateface"></span>
                <h3 class="state-name"></h3>
            </div>

            <input class="typeahead" type="text" placeholder="Select a different state">
        </div>

        <button type="submit" class="btn btn-lg state-picker-submit">Go</button>
    </form>
</div>

<div class="cast-controls">
    <h2>{{ COPY.chromecast.menu_hed }}</h2>
	<p><a class="cast-prev" href="#">Previous Slide</a></p>
	<p><a class="cast-next" href="#">Next Slide</a></p>

	{% include '_controls.html' %}
    {% include '_legend.html' %}
    {% include '_feedback.html' %}
</div>

<div id="stack">
	<div class="mobile-controls">
		<div class="slide-nav">
			<nav>
				<button type="button" data-slide="previous" class="nav-btn nav-btn-left"><i class="icon ion-chevron-left"></i></button>
				<button type="button" data-slide="next" class="nav-btn nav-btn-right"><i class="icon ion-chevron-right"></i></button>
			</nav>
		</div>
	</div>

    <div class="controls-wrapper">
        {% include '_legend.html' %}
        {% include '_controls.html' %}
        {% include '_feedback.html' %}
    </div>

    <div class="footer-container">
        {% if bop %}
        <div class="leaderboard">
            {% include 'bop.html' %}
        </div>
        {% endif %}

        <div class="control-toggle">
            <a href="#" class="js-toggle-controls">{% include '_icon-remote.svg' %} {{ COPY.chromecast.menu_hed }}</a>
        </div>

        <div class="nav">
            <div class="slide-countdown"></div>
            <nav class="slide-nav">
                <a href="#" data-slide="previous" class="nav-btn nav-btn-left"><i class="icon ion-chevron-left"></i></a>
                <p class="page">1 of 15</p>
                <a href="#" data-slide="next" class="nav-btn nav-btn-right"><i class="icon ion-chevron-right"></i></a>
            </nav>
            {% include '_logo.svg' %}
        </div>
    </div>
</div>

<div class="rotate-phone-wrapper">
	<img src="assets/rotate_phone.svg" alt="Rotate to landscape mode" />
    <p class="rotate">{{ COPY.content.rotate_prompt }}</p>
</div>


<script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
<script src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
<script src="js/lib/d3.v3.min.js"></script>
{% endblock outer_content %}

{% block extra_foot_js %}
{{ JS.push('js/lib/jquery.cookie.js') }}
{{ JS.push('js/lib/ZeroClipboard.js') }}
{{ JS.push('js/lib/typeahead.js') }}
{{ JS.push('js/lib/jquery.jplayer.js') }}
{{ JS.push('js/chromecast_receiver.js') }}
{{ JS.push('js/chromecast_sender.js') }}
{{ JS.push('js/stack.js') }}
{{ JS.push('js/app.js') }}
{{ JS.push('js/stack.js') }}
{{ JS.push('js/analytics.js') }}
{{ JS.render('js/index-footer.min.js') }}
{% endblock extra_foot_js %}

{% block extra_foot %}
{# Note: must load after chromecast_sender.js #}
<script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
{% endblock extra_foot %}
